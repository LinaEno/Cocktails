{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-87fc7ea9761ae799.js","src/favCocktail.js","node_modules/@parcel/runtime-js/lib/runtime-f758937f109a8a37.js","src/js/elementsMarkup/cocktailCard.js","src/js/elementsFav/getFavItems.js","src/js/changeColorTheme.js","src/js/modals/cocktailModalMarkup.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"65HC0\\\":\\\"favCocktail.58e1ed74.js\\\",\\\"4R51k\\\":\\\"icons-sprite.4751cb04.svg\\\",\\\"7z7ID\\\":\\\"favIngridients.80d64b58.js\\\"}\"));","import Notiflix from 'notiflix';\nimport './js/modals/mobileMenu';\nimport { elementsRef } from './js/elementsRefs/references';\nimport { updateLocalStorage } from './js/localStorage/localStorage';\nimport { constants } from './js/constantsStorage/constants';\nimport { getCocktailsById } from './js/api/api';\nimport {\n  renderGallery,\n  createPagination,\n} from './js/elementsRender/renderGallery';\nimport { createCocktailModalMarkup } from './js/modals/cocktailModalMarkup';\nimport { createModal } from './js/modals/createModal';\nimport { createCocktailCardMarkup } from './js/elementsMarkup/cocktailCard';\nimport { showMsgNotFound } from './js/utils/utils';\nimport { getFavItemsByIds } from './js/elementsFav/getFavItems';\nimport { changeColorTheme } from './js/changeColorTheme';\n\nwindow.addEventListener('load', favCocktailsHandler);\nelementsRef.searchFormRef.addEventListener('submit', searchFavCocktailHandler);\nelementsRef.cocktailsListEl.addEventListener('click', cocktailCardHandler);\nelementsRef.themeColorToggleEl.addEventListener('change', () => {});\n\nasync function favCocktailsHandler() {\n  const filteredCocktailsById = await getFavItemsByIds(\n    constants.favCocktailStorageKey,\n    getCocktailsById\n  );\n\n  if (filteredCocktailsById) {\n    displayGallery(filteredCocktailsById);\n  }\n}\n\nasync function searchFavCocktailHandler(e) {\n  e.preventDefault();\n\n  const searchQuery = e.target.elements.search.value.trim();\n  if (!searchQuery) {\n    Notiflix.Notify.warning('Please, enter the correct search query');\n    return;\n  }\n  const filteredCocktailsById = await getFavItemsByIds(\n    constants.favCocktailStorageKey,\n    getCocktailsById\n  );\n\n  if (filteredCocktailsById) {\n    const filteredCocktailByName = filteredCocktailsById.filter(cocktail =>\n      cocktail.strDrink.toUpperCase().includes(searchQuery.toUpperCase())\n    );\n\n    showMsgNotFound(\n      filteredCocktailByName.length,\n      elementsRef.cocktailsListEl,\n      elementsRef.paginationEl\n    );\n\n    displayGallery(filteredCocktailByName);\n  } else {\n    Notiflix.Notify.info(\"You haven't any favorite cocktails\");\n  }\n}\n\nasync function cocktailCardHandler(e) {\n  if (!e.target.closest('BUTTON')) {\n    return;\n  }\n\n  const cocktailCardEl = e.target.closest('[data-id]');\n  const cardId = cocktailCardEl.dataset.id;\n\n  const btnEl = e.target.closest('.js-btn-fav');\n  if (btnEl) {\n    updateLocalStorage(cardId, constants.favCocktailStorageKey);\n    cocktailCardEl.parentElement.remove();\n  }\n  if (e.target.classList.contains('js-btn-more')) {\n    const cocktailInfo = await getCocktailsById(cardId);\n\n    const cocktailModalContent = createCocktailModalMarkup(cocktailInfo[0]);\n\n    createModal(cocktailModalContent, cardId, constants.favCocktailStorageKey);\n  }\n  if (elementsRef.cocktailsListEl.children.length === 0) {\n    location.reload();\n  }\n}\n\nfunction displayGallery(filteredCocktail) {\n  if (filteredCocktail !== 0) {\n    createPagination(\n      filteredCocktail,\n      elementsRef.cocktailsListEl,\n      createCocktailCardMarkup\n    );\n\n    renderGallery(\n      filteredCocktail,\n      elementsRef.cocktailsListEl,\n      createCocktailCardMarkup\n    );\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4R51k\")).toString();","import { updateFavBtnContent } from '../btnComponent/updateBtnContent';\nimport { constants } from '../constantsStorage/constants';\n\nexport function createCocktailCardMarkup(cocktail) {\n  return `<li class=\"cocktails__list-item\">\n    <div class=\"cocktail-card\" data-id=\"${cocktail.idDrink}\">\n        <div class=\"cocktail-card__img-wrapper\">\n            <img class=\"cocktail-card__img\" src=\"${\n              cocktail.strDrinkThumb\n            }\" alt=\"cocktail\" class=\"cocktails__img\" />\n        </div>\n        <p class=\"cocktail-card__name\">${cocktail.strDrink}</p>\n        <div class=\"cocktail-card__btns-block\">\n            <button class=\"button cocktail-card__btn cocktail-card__btn--accent js-btn-more\">\n                Learn more\n            </button>\n            <button class=\"button cocktail-card__btn cocktail-card__btn--transp cocktail-card__btn--centered js-btn-fav\">\n                ${updateFavBtnContent(\n                  cocktail.idDrink,\n                  constants.favCocktailStorageKey\n                )}\n            </button>\n        </div>\n    </div>\n</li>`;\n}\n","import { getFromLocalStorage } from '../localStorage/localStorage';\nimport { showMsgNotAddedCocktailOnFavPage } from '../utils/utils';\nimport { elementsRef } from '../elementsRefs/references';\n\nexport async function getFavItemsByIds(storageKey, getItems) {\n  const favItemsId = getFromLocalStorage(storageKey);\n\n  showMsgNotAddedCocktailOnFavPage(\n    favItemsId.length,\n    elementsRef.notFoundMsgOnFavPageEl\n  );\n\n  if (favItemsId.length === 0) {\n    return false;\n  } else {\n    try {\n      const itemsInfo = [];\n      for (const id of favItemsId) {\n        const favItems = await getItems(id);\n        itemsInfo.push(favItems[0]);\n      }\n      return itemsInfo;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n","import { elementsRef } from './elementsRefs/references';\n\nconst currentTheme = localStorage.getItem('theme');\n\nif (currentTheme) {\n  document.documentElement.setAttribute('data-theme', currentTheme);\n\n  if (currentTheme === 'dark') {\n    elementsRef.themeColorToggleEl.checked = true;\n  }\n}\n\nexport function changeColorTheme() {\n  if (elementsRef.themeColorToggleEl.checked) {\n    document.documentElement.setAttribute('data-theme', 'dark');\n    localStorage.setItem('theme', 'dark');\n  } else {\n    document.documentElement.setAttribute('data-theme', 'light');\n    localStorage.setItem('theme', 'light');\n  }\n}\n\nelementsRef.themeColorToggleEl.addEventListener(\n  'change',\n  changeColorTheme,\n  false\n);\n","import sprite from '../../images/svg/icons-sprite.svg';\n\nexport function createCocktailModalMarkup(cocktail) {\n  return ` \n  <div class=\"modal cocktail js-cocktail-modal\">\n      <button class=\"button close-btn js-modal-close-btn\" type=\"button\">\n        <svg width=\"32\" height=\"32\">\n          <use href=\"${sprite}#close\"></use>\n        </svg>\n      </button>\n       <p class=\"cocktail__title js-cocktail-title\">${cocktail.strDrink}</p>\n    <div class=\"cocktail__main-content\">\n      <div class=\"cocktail__desc-wrapper\">\n        <p class=\"cocktail__instruction\">Instructions:</p>\n        <p class=\"cocktail__desc js-cocktail-desk\">${\n          cocktail.strInstructions\n        }</p>\n      </div>\n      <div class=\"cocktail__img-wrapper\">\n        <img\n          class=\"cocktail__img js-cocktail-img\"\n          src=\"${cocktail.strDrinkThumb}\"\n          alt=\"cocktail\"\n        />\n      </div>\n      <div class=\"cocktail__info-block\">\n        <p class=\"cocktail__info-text\">INGREDIENTS</p>\n        <p class=\"cocktail__info-amount\">Per cocktail</p>\n        <ul class=\"cocktail__ingredients js-cocktail-ingredients\">\n        ${createIngredientsListMarkup(cocktail)}\n        </ul>\n      </div>\n    </div>\n      <button class=\"button cocktail__button js-cocktail-add-btn\">\n        Add to favorite\n      </button>\n    </div>\n  `;\n}\n\nfunction createIngredientsListMarkup(cocktail) {\n  let markup = '';\n  let ingredient;\n  let measure;\n\n  for (let i = 1; i <= 15; i += 1) {\n    ingredient = 'strIngredient' + i;\n    measure = 'strMeasure' + i;\n\n    if (cocktail[measure] && cocktail[ingredient]) {\n      markup += `<li cocktail[]><a data-name=\"${cocktail[ingredient]}\">${cocktail[measure]} ${cocktail[ingredient]}</a></li>`;\n    }\n  }\n  return markup;\n}\n"],"names":["parcelRequire","register","JSON","parse","$7Y9D8","$bbecfa41907085f9$exports","URL","resolve","import","meta","url","toString","$kK2SA","$1d9448327afd45a1$export$718ed3bbb47d37af","cocktail","idDrink","strDrinkThumb","strDrink","updateFavBtnContent","$gGAPY","constants","favCocktailStorageKey","$e6wCE","async","$86acee84560b2359$export$e7e45d3e68739cec","storageKey","getItems","favItemsId","getFromLocalStorage","$jXDaJ","showMsgNotAddedCocktailOnFavPage","length","$4iYcx","elementsRef","notFoundMsgOnFavPageEl","itemsInfo","id","favItems","push","error","console","log","$71e3429d2be021e3$var$currentTheme","localStorage","getItem","$6e94a79aa48935b4$var$displayGallery","filteredCocktail","$7ExxV","createPagination","cocktailsListEl","renderGallery","document","documentElement","setAttribute","themeColorToggleEl","checked","addEventListener","setItem","window","filteredCocktailsById","$4emys","getCocktailsById","searchFormRef","e","preventDefault","searchQuery","target","elements","search","value","trim","$parcel$interopDefault","Notify","warning","filteredCocktailByName","filter","toUpperCase","includes","showMsgNotFound","paginationEl","info","closest","cocktailCardEl","cardId","dataset","updateLocalStorage","parentElement","remove","classList","contains","cocktailInfo","cocktailModalContent","strInstructions","ingredient","measure","markup","i","$21c9d1bb5843aa9d$var$createIngredientsListMarkup","$6bDXm","createModal","children","location","reload"],"version":3,"file":"favCocktail.58e1ed74.js.map"}